<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Perform the Incantations</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="GTK Internationalization For the Embedded Device"><link rel="up" href="ch01.html" title="Chapter 1. Installing Linux Internationalization Support In Embedded Space"><link rel="prev" href="ch01.html" title="Chapter 1. Installing Linux Internationalization Support In Embedded Space"><link rel="next" href="ch02.html" title="Chapter 2. Setting Up a Project for Internationalization"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Perform the Incantations</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01.html">Prev</a> </td><th width="60%" align="center">Chapter 1. Installing Linux Internationalization Support In Embedded Space</th><td width="20%" align="right"> <a accesskey="n" href="ch02.html">Next</a></td></tr></table><hr></div><div class="section" title="Perform the Incantations"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2929666"></a>Perform the Incantations</h2></div></div></div><p>
	First, you need to figure out if the system is set up properly. You'd know that it is
	not if you 
	<span class="application">
	localedef
	</span> can't find the proper directory when you try to generate a locale.
	For our purposes, we want to make sure ahead of time.
	</p><pre class="programlisting">
	localedef --help
	</pre><p>
	When I run this, I get the following:
	</p><pre class="programlisting">
	System's directory for character maps : /usr/share/i18n/charmaps
                       repertoire maps: /usr/share/i18n/repertoiremaps
                       locale path    : /usr/lib/locale:/usr/share/i18n
	</pre><p>
	The 
	<a class="link" href="go01.html#charmaps_gloss" title="/usr/share/i18n/charmaps">charmaps</a>
	and 
	<a class="link" href="go01.html#locale_gloss" title="/usr/share/i18n/locale">locale</a>
	directories must exist and they should be populated with the appropriate files
	before you move on. You need to look for these in your distro and copy them as
	appropriate.
	</p><p>
	Now, find out if your favorite locale is in the archive:
	</p><pre class="programlisting">
	locale -a
	</pre><p>If it is, you may continue on to the next chapter. Otherwise, you need to 
	generate it. 
	</p><p> For this example, let's assume you want to create en_US.utf8. Here's how:
	</p><pre class="programlisting">
	 localedef --no-archive -c -f UTF-8 -i en_US en_US.utf8
	</pre><p>
	Note the switch -c will force even if there are errors. For some reason this is important on the arm.
	The --no-archive switch ensures that the files are put into their own directory.
	</p><p>
	Note, that this still isn't enough to have locale support. Let's check.
	</p><pre class="programlisting">
	locale -a
	</pre><pre class="programlisting">
	root@dm355evm:/# locale -a                                                      
	C                                                                               
	POSIX
	en_US.utf8
	</pre><p>
	Now we can set the locale with the following:
	</p><pre class="programlisting">
	export LANG=en_US.utf8
	</pre><p>
	The files can be found here:
	<a class="link" href="go01.html#usr_lib_locale" title="/usr/lib/locale">/usr/lib/locale</a>
	</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 1. Installing Linux Internationalization Support In Embedded Space </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 2. Setting Up a Project for Internationalization</td></tr></table></div></body></html>
